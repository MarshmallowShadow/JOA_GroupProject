<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">
	
	<!-- 쿼리문 작성 -->
	<!-- <resultMap id="MyReportVo" type="com.javaex.vo.MyReportVo">
		<result column="record_no" property="recordNo" />
		<result column="course_no" property="courseNo" />
		<result column="user_no" property="userNo" />
		<result column="title" property="title" />
		<result column="review" property="review" />
		<result column="reg_date" property="regDate" />
	</resultMap> -->
	
	
	<select id="getRecordList" parameterType="int" resultType="map">
		<![CDATA[
			select  r.record_no recordNo,
					r.course_no courseNo,
			        r.user_no userNo,
			        c.title,
			        r.review,
			        to_char(r.reg_date, 'YYYY-MM-DD') regDate,
			        i.file_path filePath
			from course c, record r 
			left outer join (select * from record_img where order_no = 0) i
			on r.record_no = i.record_no 
			where r.course_no = c.course_no
			and r.user_no =  #{userNo}
			order by r.reg_date asc
		]]>
	</select>
	
	
	
	
</mapper>