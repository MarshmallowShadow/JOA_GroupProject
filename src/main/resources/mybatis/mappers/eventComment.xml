<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="eventComment">

	<!-- 댓글 쓰기 -->
	<insert id="commentWrite" parameterType="EventCommentVo">
		<![CDATA[
			INSERT into EVENT_COMMENT
			VALUES (SEQ_EVENT_COMMENT_NO.nextval, #{eventNo}, #{userNo}, 0, #{content}, sysdate)
		]]>
	</insert>
	
	
	<!-- 댓글 불러오기 -->
	<select id="comment" parameterType="int" resultType="map">
		<![CDATA[
			SELECT eo.e_comment_no
			       , eo.event_no eventNo
			       , u.id
			       , to_char(eo.reg_date, 'YYYY-MM-DD') regDate
			       , eo.content
			FROM event_comment eo, users u
			where eo.user_no = u.user_no
			and eo.event_no = #{eventNo}
		]]>	
	</select>

</mapper>